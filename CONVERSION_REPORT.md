# üì∏ –û—Ç—á–µ—Ç –æ –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ IMG_1211.DNG

## üîç –ê–Ω–∞–ª–∏–∑ –í—Ö–æ–¥–Ω–æ–≥–æ –§–∞–π–ª–∞

**–ò–º—è —Ñ–∞–π–ª–∞:** `IMG_1211.DNG`
**–§–∞–∫—Ç–∏—á–µ—Å–∫–∏–π —Ç–∏–ø:** **JPEG** (–Ω–µ—Å–º–æ—Ç—Ä—è –Ω–∞ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ .DNG)
**–†–∞–∑–º–µ—Ä:** 7.82 MB (8,201,821 bytes)

### üì∑ –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ (EXIF):
- **–ö–∞–º–µ—Ä–∞:** Apple iPhone 15 Pro Max
- **–†–∞–∑—Ä–µ—à–µ–Ω–∏–µ:** 6048 x 8064 –ø–∏–∫—Å–µ–ª–µ–π (48.6 –º–µ–≥–∞–ø–∏–∫—Å–µ–ª—è)
- **–û—Ä–∏–µ–Ω—Ç–∞—Ü–∏—è:** –ü–æ—Ä—Ç—Ä–µ—Ç–Ω–∞—è (upper-left)
- **–ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ:** iOS 26.1
- **–î–∞—Ç–∞ —Å—ä–µ–º–∫–∏:** 2025:12:28 00:15:37
- **–¢–æ—á–Ω–æ—Å—Ç—å:** baseline, precision 8, 3 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ (RGB)
- **GPS –¥–∞–Ω–Ω—ã–µ:** –ü—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç

---

## ‚öôÔ∏è –ö–∞–∫ –ö–æ–Ω–≤–µ—Ä—Ç–µ—Ä –û–±—Ä–∞–±–æ—Ç–∞–µ—Ç –≠—Ç–æ—Ç –§–∞–π–ª

### 1Ô∏è‚É£ **–≠—Ç–∞–ø –î–µ—Ç–µ–∫—Ü–∏–∏ –¢–∏–ø–∞ –§–∞–π–ª–∞**

```bash
exiftool -b -MIMEType IMG_1211.DNG
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** `image/jpeg`

**–ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è:**
‚ùå –ù–ï –æ—Ç–ø—Ä–∞–≤–∏—Ç—Å—è –≤ RAW pipeline (–Ω–µ –Ω–∞—Å—Ç–æ—è—â–∏–π DNG)
‚ùå –ù–ï –æ—Ç–ø—Ä–∞–≤–∏—Ç—Å—è –≤ HEIF pipeline
‚úÖ **–û—Ç–ø—Ä–∞–≤–∏—Ç—Å—è –≤ `magick` pipeline** (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è)

### 2Ô∏è‚É£ **–≠—Ç–∞–ø –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ (ImageMagick)**

```bash
magick IMG_1211.DNG \
  -auto-orient \
  -colorspace sRGB \
  -quality 92 \
  -strip \
  output.jpg
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `-auto-orient` - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏—è –ø–æ EXIF
- `-colorspace sRGB` - –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤ sRGB —Ü–≤–µ—Ç–æ–≤–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ
- `-quality 92` - –∫–∞—á–µ—Å—Ç–≤–æ JPEG (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º API)
- `-strip` - —É–¥–∞–ª–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö

**–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞:**
- –ï—Å–ª–∏ —É–∫–∞–∑–∞–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä `max_side`, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç —É–º–µ–Ω—å—à–µ–Ω–æ:
  ```bash
  -resize {max_side}x{max_side}>
  ```

### 3Ô∏è‚É£ **–≠—Ç–∞–ø –í–∞–ª–∏–¥–∞—Ü–∏–∏**

–ö–æ–Ω–≤–µ—Ä—Ç–µ—Ä –ø—Ä–æ–≤–µ—Ä–∏—Ç –≤—ã—Ö–æ–¥–Ω–æ–π JPEG —Ñ–∞–π–ª:

‚úÖ **–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã:** 200x200 –ø–∏–∫—Å–µ–ª–µ–π ‚Üí **PASS** (6048x8064)
‚úÖ **–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞:** 50 KB ‚Üí **PASS** (–æ–∂–∏–¥–∞–µ—Ç—Å—è ~5-7 MB –ø—Ä–∏ quality=92)
‚úÖ **–§–æ—Ä–º–∞—Ç:** –í–∞–ª–∏–¥–Ω—ã–π JPEG ‚Üí **PASS**
‚úÖ **–ß–µ—Ä–Ω—ã–µ –ø–æ–ª–æ—Å—ã:** –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫—Ä–∞–µ–≤ –Ω–∞ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã ‚Üí **PASS** (–Ω–µ –æ–∂–∏–¥–∞–µ—Ç—Å—è –¥–ª—è JPEG)

---

## ‚è±Ô∏è –û–∂–∏–¥–∞–µ–º–∞—è –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

| –ú–µ—Ç—Ä–∏–∫–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ |
|---------|----------|
| **–í—Ä–µ–º—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏** | **1-3 —Å–µ–∫—É–Ω–¥—ã** |
| **–ú–µ—Ç–æ–¥ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏** | ImageMagick (—Å–∞–º—ã–π –±—ã—Å—Ç—Ä—ã–π –ø—É—Ç—å) |
| **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ø—ã—Ç–æ–∫** | 1 (—É—Å–ø–µ—Ö —Å –ø–µ—Ä–≤–æ–≥–æ —Ä–∞–∑–∞) |
| **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ CPU** | –ù–∏–∑–∫–æ–µ |
| **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏** | ~50-100 MB |

---

## üì§ API –ó–∞–ø—Ä–æ—Å –¥–ª—è –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –ü—Ä—è–º–æ–π –∑–∞–ø—Ä–æ—Å –∫ –∫–æ–Ω–≤–µ—Ä—Ç–µ—Ä—É:

```bash
curl -X POST http://localhost:8080/convert \
  -H "X-API-KEY: your-secret-key" \
  -F "file=@IMG_1211.DNG" \
  -F "quality=92" \
  -o output.jpg
```

### –° –∏–∑–º–µ–Ω–µ–Ω–∏–µ–º —Ä–∞–∑–º–µ—Ä–∞:

```bash
curl -X POST http://localhost:8080/convert \
  -H "X-API-KEY: your-secret-key" \
  -F "file=@IMG_1211.DNG" \
  -F "quality=85" \
  -F "max_side=2048" \
  -o output_small.jpg
```

### –û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç:

```
HTTP/1.1 200 OK
Content-Type: image/jpeg
Content-Length: ~6000000

<binary JPEG data>
```

---

## üéØ –í—ã–≤–æ–¥

### ‚úÖ **–°—Ç–∞—Ç—É—Å –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏: –£–°–ü–ï–®–ù–û**

–í–∞—à —Ñ–∞–π–ª `IMG_1211.DNG` –±—É–¥–µ—Ç —É—Å–ø–µ—à–Ω–æ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞–Ω —á–µ—Ä–µ–∑ –∫–æ–Ω–≤–µ—Ä—Ç–µ—Ä:

1. **–ë—ã—Å—Ç—Ä–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞** - –æ–±—ã—á–Ω—ã–π JPEG –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –∑–∞ 1-3 —Å–µ–∫—É–Ω–¥—ã
2. **–ë–µ–∑ –ø–æ—Ç–µ—Ä–∏ –∫–∞—á–µ—Å—Ç–≤–∞** - –≤—ã—Å–æ–∫–æ–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è (6048x8064)
3. **–ü—Ä–æ—Å—Ç–æ–π –ø—É—Ç—å** - –º–∏–Ω—É–µ—Ç —Å–ª–æ–∂–Ω—ã–π RAW pipeline
4. **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å** - ImageMagick - –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç

### üìù **–ü—Ä–∏–º–µ—á–∞–Ω–∏—è:**

- –ù–µ—Å–º–æ—Ç—Ä—è –Ω–∞ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ `.DNG`, —Ñ–∞–π–ª —è–≤–ª—è–µ—Ç—Å—è –æ–±—ã—á–Ω—ã–º JPEG
- –í–æ–∑–º–æ–∂–Ω–æ, —ç—Ç–æ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è –∏–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è iOS
- –ù–∞—Å—Ç–æ—è—â–∏–π Apple ProRAW DNG –∏–º–µ–ª –±—ã TIFF-–∑–∞–≥–æ–ª–æ–≤–æ–∫ –∏ RAW –¥–∞–Ω–Ω—ã–µ
- –ö–æ–Ω–≤–µ—Ä—Ç–µ—Ä –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç —Ñ–æ—Ä–º–∞—Ç –∏ –æ–±—Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ JPEG

---

## üöÄ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –î–ª—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è RAW/DNG —Ñ–∞–π–ª–æ–≤:

1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ **–Ω–∞—Å—Ç–æ—è—â–∏–µ RAW —Ñ–∞–π–ª—ã** —Å –∫–∞–º–µ—Ä—ã:
   - Apple ProRAW (.DNG) - —Å–Ω—è—Ç—ã–µ –≤ ProRAW —Ä–µ–∂–∏–º–µ –Ω–∞ iPhone
   - Canon (.CR2, .CR3)
   - Nikon (.NEF, .NRW)
   - Sony (.ARW)

2. **–ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker:**
   ```bash
   cd converter
   docker build -t photo-converter:test .
   docker run -p 8080:8080 \
     -e CONVERTER_API_KEY=test-key \
     photo-converter:test
   ```

3. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ Telegram –±–æ—Ç–∞:**
   - –û—Ç–ø—Ä–∞–≤—å—Ç–µ —Ñ–∞–π–ª –≤ —É–∫–∞–∑–∞–Ω–Ω—ã–π —Ç–æ–ø–∏–∫
   - –ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∫–∞—á–∞–µ—Ç, –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç –∏ –∑–∞–≥—Ä—É–∑–∏—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –§–∞–π–ª–∞

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ |
|----------|----------|
| –ò—Å—Ö–æ–¥–Ω—ã–π —Ä–∞–∑–º–µ—Ä | 7.82 MB |
| –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ | 6048 x 8064 px |
| –ú–µ–≥–∞–ø–∏–∫—Å–µ–ª–µ–π | 48.6 MP |
| –§–æ—Ä–º–∞—Ç | JPEG |
| –¶–≤–µ—Ç–æ–≤–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ | RGB |
| –ë–∏—Ç–Ω–æ—Å—Ç—å | 8 –±–∏—Ç –Ω–∞ –∫–∞–Ω–∞–ª |
| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã | 3 (RGB) |

**–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã—Ö–æ–¥–Ω–æ–π —Ä–∞–∑–º–µ—Ä:**
- Quality 92: ~6-7 MB
- Quality 85: ~4-5 MB
- Quality 75: ~3-4 MB
- Max side 2048: ~1-2 MB

---

**–°–æ–∑–¥–∞–Ω–æ:** 2026-02-12
**–í–µ—Ä—Å–∏—è –∫–æ–Ω–≤–µ—Ä—Ç–µ—Ä–∞:** photo-converter (FastAPI)
**–ê–Ω–∞–ª–∏–∑ –≤—ã–ø–æ–ª–Ω–µ–Ω:** Claude Code
